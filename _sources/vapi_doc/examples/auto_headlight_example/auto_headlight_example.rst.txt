.. _vapi-auto-headlight-example:

Auto Headlight Example
======================

.. attention:: Purpose: Demonstration with open source software ``OpenXilEnv`` and ``Carla``

.. note:: 
   | Example can be found in ``<output-folder>/examples/bin``:
   | auto_headlight_app

.. hint:: 
   
   The function should automatically switch on the light when the vehicle drives into a tunnel:

   - Two input signals represents the the GPS position of the vehicle.
   - One output signal switches the heeadlight on or off.
   - The function (complex service) has internally a map containing the position of tunnels so it can switch on automatically the light.  

.. image:: ../../../vapi_media/examples/auto_headlight_example/auto_headlight_example.png

The 3 Signals of the headlight example.

Screenshots of running the Application (:term:`Complex Service`) in a simulation:

.. image:: autohedlight_01.png

Simulation Software ``OpenXilEnv``, loading ``Carla FMU`` and ``Open Vehicle API FMU``.

.. image:: autohedlight_02.png

Before entering the tunnel, the headlights are off.

.. image:: autohedlight_03.png

After entering the tunnel, the headlights are turned on.

.. image:: autohedlight_04.png

Inside the tunnel, the headlights are on.

.. image:: autohedlight_05.png

Shortly before exiting the tunnel, the headlights are still on.

.. image:: autohedlight_06.png

After leaving the tunnel, the headlights are turned off.